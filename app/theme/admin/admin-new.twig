{{ include('partials/header.twig') }}

<section class="page-title">
    <div class="wrapper">
        <h1>New Post</h1>
    </div>
</section>

<section class="page-container post-editor">
    <div class="wrapper">
        <form class="ajax-form" action="/admin/post/new" method="post" data-push="/admin/posts" enctype="multipart/form-data">

            {% if not cms.error %}
            <main class="main">

                <div class="field">
                    <label for="title">Post Title</label>
                    <input class="post-title" type="text" name="title" placeholder="Title...">
                </div>
                <div class="field">
                    <textarea id="wysiwyg" name="content"></textarea>
                </div>

            </main>

            <div class="sidebar">

                <div class="card">
                    <h3 class="title">Post Photo</h3>
                    <div id="upload_preview" class="image"></div>
                    <div class="content">
                        <input id="upload_file" type="file" name="photo">
                        <input id="upload_file_input" type="hidden" name="cover_photo">
                    </div>
                </div>

                <div class="card">
                    <h3 class="title">Post Status</h3>
                    <div class="content">
                        <div class="field">
                            <select name="status">
                                <option value="1">Published</option>
                                <option value="0">Draft</option>
                            </select>
                        </div>
                        <div class="field">
                            <button class="extra large positive" type="submit">Publish</button>
                            <a class="extra large negative button" href="/admin/posts">
                                <i class="ion ion-trash-a icon left"></i> Delete
                            </a>
                        </div>
                    </div>
                </div>

            </div>
            {% else %}

            <main class="main">
                <div class="{{ cms.error.type }} alert">{{ cms.error.message|raw }}</div>
            </main>

            {% endif %}

        </form>
    </div>
</section>

{{ include('partials/footer.twig') }}
